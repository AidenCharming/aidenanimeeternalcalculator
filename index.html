<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Eternal Calculator</title>
	<link rel="icon" href="icon.webp" type="image/webp">
    <link rel="apple-touch-icon" href="icon.webp">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
          theme: {
            extend: {
              fontFamily: {
                sans: ['Poppins', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
              },
            },
          },
        }
    </script>
    <script>
    (function(){
      function isLowPower(){
        try{
          if (matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches) return true;
          var nav = navigator || {};
          if (nav.connection) {
            if (nav.connection.saveData) return true;
            var et = (nav.connection.effectiveType || '').toLowerCase();
            if (et.indexOf('2g') !== -1 || et.indexOf('3g') !== -1) return true;
          }
          if (nav.deviceMemory && nav.deviceMemory <= 2) return true;
          if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) return true;
        }catch(e){}
        return false;
      }
      var pref = localStorage.getItem('ae_low_power');
      if (pref === null) {
        pref = isLowPower() ? '1' : '0';
        localStorage.setItem('ae_low-power', pref);
      }
      if (pref === '1') document.documentElement.classList.add('ae-low-power');
      else document.documentElement.classList.add('ae-high-power');
    })();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Metal+Mania&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=V_CACHE_BUST"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2070779794600099"
     crossorigin="anonymous"></script>
</head>
<body>
    <div class="w-full max-w-2xl">
        <header class="topbar">
            <div class="topbar-content">
                <h1 class="topbar-title">Anime Eternal Calculator</h1>
                <div class="topbar-credits">Coded By: AidenCharming and Ray. | Data From: AE Spreadsheet, KodakUSA and Ra.</div>
                <div class="topbar-right">
                    <span class="version-text">Version 5.0</span>
                    <div class="toggle-container">
                        <button id="format-toggle-scientific" class="toggle-btn" data-format="scientific">Scientific</button>
                        <button id="format-toggle-letters" class="toggle-btn active" data-format="letters">Letters</button>
                    </div>
                    <button id="theme-toggle" class="topbar-theme-btn">
                        Switch Theme
                    </button>
                </div>
            </div>
        </header>
        <main class="calculator-card">
            <div class="flex border-b-2 border-gray-700 mb-6" id="tab-controls">
                <button id="tab-rankup" class="tab-btn active" data-tab="rankup">Rank Up</button>
                <button id="tab-eta" class="tab-btn" data-tab="eta">Target Energy ETA</button>
                <button id="tab-time-to-energy" class="tab-btn" data-tab="time-to-energy">Time to Energy (Broken)</button>
                <button id="tab-lootcalc" class="tab-btn" data-tab="lootcalc">Loot Calc</button>
                <button id="tab-ttk" class="tab-btn" data-tab="ttk">Time to Kill</button>
                <button id="tab-raid" class="tab-btn" data-tab="raid">Raids / Dungeons</button>
                <button id="tab-alerts" class="tab-btn" data-tab="alerts">Dungeon Alerts</button>
                <button id="tab-star" class="tab-btn" data-tab="star">Star Calc</button> 
                <button id="tab-checklist" class="tab-btn" data-tab="checklist">Checklist</button>
            </div>
            <div class="content-wrapper">
            <div id="panel-rankup">
                <div class="max-w-xl space-y-6"> 
                    <div class="toggle-container">
                        <button class="toggle-btn active" data-clickerspeed="slow">Slow Clicker</button>
                        <button class="toggle-btn" data-clickerspeed="fast">Fast Clicker</button>
                    </div>
                    <div>
                        <label for="rankInput">Select Target Rank</label>
                        <div class="relative">
                            <input type="text" id="rankInput" class="input-field w-full rounded-lg" placeholder="e.g., 109" autocomplete="off">
                            <input type="hidden" id="rankSelect" value="">
                            <div id="rankList" class="search-list absolute z-10 w-full bg-[#131320] border border-[#3a3a5a] rounded-lg mt-1 max-h-48 overflow-y-auto hidden"></div>
                        </div>
                    </div>
                    <div>
                        <label for="currentEnergy">Your Current Energy</label>
                        <div class="grid-denom">
                            <input type="text" id="currentEnergy" class="input-field w-full" placeholder="e.g., 5000">
                            <div class="relative">
                                <input type="text" id="currentEnergyDenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                <input type="hidden" id="currentEnergyDenominationValue" value="1">
                                <div id="currentEnergyDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="energyCriticalChance">Energy Critical Chance (From Stats)</label>
                        <input type="text" id="energyCriticalChance" class="input-field w-full" placeholder="e.g., 7.5">
                    </div>
                    <div>
                        <label for="criticalEnergy">Critical Energy (From Stats)</label>
                        <input type="text" id="criticalEnergy" class="input-field w-full" placeholder="e.g., 130">
                    </div>
                    <div>
                        <label for="energyPerClick">Energy per Click</label>
                        <div class="grid-denom">
                            <input type="text" id="energyPerClick" class="input-field w-full" placeholder="e.g., 150">
                            <div class="relative">
                                <input type="text" id="energyPerClickDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                <input type="hidden" id="energyPerClickDenominationValue" value="1">
                                <div id="energyPerClickDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="energyForRankFormatted">Energy Needed for Selected Rank</label>
                        <div id="energyForRankFormatted" class="input-field w-full text-orange-400 font-semibold">Select a rank to see requirement</div>
                    </div>
                    <input type="checkbox" id="clickerSpeed" class="hidden">
                    <div class="result-box p-4 rounded-lg text-center" onclick="copyResult('rankUpResult')" title="Click to copy result">
                        <p class="text-gray-400">Time to next rank:</p>
                        <p id="rankUpResult" class="text-2xl font-bold text-orange-400">0s</p>
                        <p id="rankUpReturnTime" class="text-sm text-gray-400 mt-1"></p>
                    </div>
                </div>
            </div>
            <div id="panel-eta" class="hidden">
                <div class="max-w-xl space-y-6">
                    <div class="toggle-container">
                        <button class="toggle-btn active" data-clickerspeed-eta="slow">Slow Clicker</button>
                        <button class="toggle-btn" data-clickerspeed-eta="fast">Fast Clicker</button>
                    </div>
                    <div>
                        <label for="currentEnergyETA">Your Current Energy</label>
                        <div class="grid-denom">
                            <input type="text" id="currentEnergyETA" class="input-field w-full" placeholder="e.g., 5000">
                            <div class="relative">
                                <input type="text" id="currentEnergyETADenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                <input type="hidden" id="currentEnergyETADenominationValue" value="1">
                                <div id="currentEnergyETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="targetEnergyETA">Your Target Energy</label>
                        <div class="grid-denom">
                            <input type="text" id="targetEnergyETA" class="input-field w-full" placeholder="e.g., 10000">
                            <div class="relative">
                                <input type="text" id="targetEnergyETADenominationInput" class="input-field w-full" placeholder="e.g., M" autocomplete="off">
                                <input type="hidden" id="targetEnergyETADenominationValue" value="1">
                                <div id="targetEnergyETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="energyCriticalChanceETA">Energy Critical Chance (From Stats)</label>
                        <input type="text" id="energyCriticalChanceETA" class="input-field w-full" placeholder="e.g., 7.5">
                    </div>
                    <div>
                        <label for="criticalEnergyETA">Critical Energy (From Stats)</label>
                        <input type="text" id="criticalEnergyETA" class="input-field w-full" placeholder="e.g., 130">
                    </div>
                    <div>
                        <label for="energyPerClickETA">Energy per Click</label>
                        <div class="grid-denom">
                            <input type="text" id="energyPerClickETA" class="input-field w-full" placeholder="e.g., 150">
                            <div class="relative">
                                <input type="text" id="energyPerClickETADenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                <input type="hidden" id="energyPerClickETADenominationValue" value="1">
                                <div id="energyPerClickETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" id="clickerSpeedETA" class="hidden">
                    <div class="result-box p-4 rounded-lg text-center" onclick="copyResult('etaResult')" title="Click to copy result">
                        <p class="text-gray-400">Time to target energy:</p>
                        <p id="etaResult" class="text-2xl font-bold text-orange-400">0s</p>
                        <p id="etaReturnTime" class="text-sm text-gray-400 mt-1"></p>
                    </div>
                </div>
            </div>
            <div id="panel-time-to-energy" class="hidden">
                <div class="max-w-xl space-y-6">
                    <div class="toggle-container">
                        <button class="toggle-btn active" data-clickerspeed-tte="slow">Slow Clicker</button>
                        <button class="toggle-btn" data-clickerspeed-tte="fast">Fast Clicker</button>
                    </div>
                    <div>
                        <label for="currentEnergyTTE">Your Current Energy</label>
                        <div class="grid-denom">
                            <input type="text" id="currentEnergyTTE" class="input-field w-full" placeholder="e.g., 5000">
                            <div class="relative">
                                <input type="text" id="currentEnergyTTEDenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                <input type="hidden" id="currentEnergyTTEDenominationValue" value="1">
                                <div id="currentEnergyTTEDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="energyCriticalChanceTTE">Energy Critical Chance (From Stats)</label>
                        <input type="text" id="energyCriticalChanceTTE" class="input-field w-full" placeholder="e.g., 7.5">
                    </div>
                    <div>
                        <label for="criticalEnergyTTE">Critical Energy (From Stats)</label>
                        <input type="text" id="criticalEnergyTTE" class="input-field w-full" placeholder="e.g., 130">
                    </div>
                    <div>
                        <label for="energyPerClickTTE">Energy per Click (BASE, NO POTIONS OR FOODS)</label>
                        <div class="grid-denom">
                            <input type="text" id="energyPerClickTTE" class="input-field w-full" placeholder="e.g., 150">
                            <div class="relative">
                                <input type="text" id="energyPerClickTTEDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                <input type="hidden" id="energyPerClickTTEDenominationValue" value="1">
                                <div id="energyPerClickTTEDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="timeToReturnSelect">Return Time</label>
                        <div class="grid-time">
                            <div class="relative">
                                <label class="input-label-small" for="timeToReturnSelect">Hours</label>
                                <select id="timeToReturnSelect" class="select-field w-full rounded-lg"></select>
                            </div>
                            <div class="relative">
                                <label class="input-label-small" for="timeToReturnSelectMinutes">Minutes</label>
                                <select id="timeToReturnSelectMinutes" class="select-field w-full rounded-lg"></select>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="subsection-title">Active Boost Durations (Energy)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                            <div>
                                <label for="boost-spooky-energy-potion-hours">Spooky Energy Potion (x2.5)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-spooky-energy-potion-hours">Hours</label>
                                        <select id="boost-spooky-energy-potion-hours" class="select-field"></select>
                                    </div>
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-spooky-energy-potion-minutes">Minutes</label>
                                        <select id="boost-spooky-energy-potion-minutes" class="select-field"></select>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="boost-energy-potion-hours">Energy Potion (x2.0)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-energy-potion-hours">Hours</label>
                                        <select id="boost-energy-potion-hours" class="select-field"></select>
                                    </div>
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-energy-potion-minutes">Minutes</label>
                                        <select id="boost-energy-potion-minutes" class="select-field"></select>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="boost-small-potion-hours">Small Potion (x1.5)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-small-potion-hours">Hours</label>
                                        <select id="boost-small-potion-hours" class="select-field"></select>
                                    </div>
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-small-potion-minutes">Minutes</label>
                                        <select id="boost-small-potion-minutes" class="select-field"></select>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="boost-energy-macaron-hours">Energy Macaron (x1.25)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-energy-macaron-hours">Hours</label>
                                        <select id="boost-energy-macaron-hours" class="select-field"></select>
                                    </div>
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-energy-macaron-minutes">Minutes</label>
                                        <select id="boost-energy-macaron-minutes" class="select-field"></select>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="boost-chocolate-bar-hours">Chocolate Bar (x1.10)</label>
                                <div class="grid grid-cols-2 gap-1">
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-chocolate-bar-hours">Hours</label>
                                        <select id="boost-chocolate-bar-hours" class="select-field"></select>
                                    </div>
                                    <div class="relative">
                                        <label class="input-label-small" for="boost-chocolate-bar-minutes">Minutes</label>
                                        <select id="boost-chocolate-bar-minutes" class="select-field"></select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" id="clickerSpeedTTE" class="hidden">
                    <div class="result-box p-4 rounded-lg text-center" onclick="copyResult('timeToEnergyResult')" title="Click to copy result">
                        <p class="text-gray-400">Total Energy on Return:</p>
                        <p id="timeToEnergyResult" class="text-2xl font-bold text-orange-400">0</p>
                        <p id="timeToEnergyReturnTime" class="text-sm text-gray-400 mt-1"></p>
                    </div>
                </div> 
            </div>
            <div id="panel-lootcalc" class="hidden">
                <div class="max-w-xl space-y-6">
                    
                    <h3 class="subsection-title">Mob Killing Rate (Affects both drops)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="lootMobKillTime">Time Per Mob Kill (Seconds)</label>
                            <div class="relative">
                                <select id="lootMobKillTime" class="select-field w-full rounded-lg"></select>
                            </div>
                        </div>
                        <div>
                            <label for="lootFarmingMode">Farming Spot Type</label>
                            <div class="toggle-container" id="loot-farming-mode-container">
                                <button class="toggle-btn active" data-loot-farming-mode="single">Single Mob (1)</button>
                                <button class="toggle-btn" data-loot-farming-mode="four">4-Spot Farm (4)</button>
                            </div>
                            <input type="hidden" id="lootFarmingMode" value="single">
                        </div>
                    </div>

                    <h3 class="subsection-title">Token Drop Inputs (Multiplier Affected)</h3>
                    <div>
                        <label for="lootTokenMultiplier">Your Token Rate Multiplier (e.g., 3.16)</label>
                        <input type="text" id="lootTokenMultiplier" class="input-field w-full" placeholder="e.g., 3.16">
                        <p class="text-xs text-gray-500 mt-1">This is the 'Token' value from your stats screen.</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label for="lootBaseTokenDropRate">Base Token Drop Rate (%)</label>
                            <input type="text" id="lootBaseTokenDropRate" class="input-field w-full" placeholder="e.g., 10 (for 10% drop rate)">
                        </div>
                        <div>
                            <label for="lootTokenDropMin">Token Drop Count (Min)</label>
                            <input type="text" id="lootTokenDropMin" class="input-field w-full" placeholder="e.g., 1">
                        </div>
                        <div>
                            <label for="lootTokenDropMax">Token Drop Count (Max)</label>
                            <input type="text" id="lootTokenDropMax" class="input-field w-full" placeholder="e.g., 5">
                        </div>
                    </div>

                    <h3 class="subsection-title">Special Drop Inputs (Multiplier UN-Affected)</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label for="lootSpecialDropRate">Special Drop Rate (%)</label>
                            <input type="text" id="lootSpecialDropRate" class="input-field w-full" placeholder="e.g., 1 (for 1% drop rate)">
                        </div>
                        <div>
                            <label for="lootSpecialDropQuantity">Special Drop Quantity (Fixed at 1)</label>
                            <input type="text" id="lootSpecialDropQuantity" class="input-field w-full bg-gray-700 cursor-not-allowed" value="1" readonly>
                        </div>
                        <div>
                            <label for="lootSpecialItemName">Special Item Name (Optional)</label>
                            <input type="text" id="lootSpecialItemName" class="input-field w-full" placeholder="e.g., Star Token">
                        </div>
                    </div>

                    <div class="subsection-title">Loot Target (Time/Kills)</div>
                    <div>
                        <label for="lootTimeTargetHours">Time Target</label>
                        <div class="grid-time">
                            <div class="relative">
                                <label class="input-label-small" for="lootTimeTargetHours">Hours</label>
                                <select id="lootTimeTargetHours" class="select-field w-full rounded-lg"></select>
                            </div>
                            <div class="relative">
                                <label class="input-label-small" for="lootTimeTargetMinutes">Minutes</label>
                                <select id="lootTimeTargetMinutes" class="select-field w-full rounded-lg"></select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="result-box p-4 rounded-lg text-center">
                            <p class="text-gray-400">Avg Tokens per Target Time:</p>
                            <p id="lootTokensResult" class="text-2xl font-bold text-orange-400">0</p>
                        </div>
                        <div class="result-box p-4 rounded-lg text-center">
                            <p class="text-gray-400"><span id="specialItemLabel">Avg Special Drops</span></p>
                            <p id="lootSpecialDropsResult" class="text-2xl font-bold text-orange-400">0</p>
                        </div>
                    </div>

                    <div class="result-box p-4 rounded-lg text-center">
                        <label for="lootTokenTargetCount" class="text-gray-400 m-0">Time to reach target Token quantity:</label>
                        <input type="text" id="lootTokenTargetCount" class="input-field w-full mt-2 mb-4" placeholder="e.g., 50 for 50 tokens">
                        <p id="lootTokenTimeToTargetResult" class="text-2xl font-bold text-orange-400">0s</p>
                    </div>
                </div>
            </div>
            <div id="panel-ttk" class="hidden">
                <div class="max-w-xl space-y-6">
                    <div>
                        <label for="worldSelect" class="block mb-2 text-sm font-medium">Select World</label>
                        <select id="worldSelect" class="select-field w-full rounded-lg">
                            <option value="">-- Select a World --</option>
                        </select>
                    </div>
                    <div>
                        <label for="enemySelect" class="block mb-2 text-sm font-medium">Select Enemy</label>
                        <select id="enemySelect" class="select-field w-full rounded-lg">
                            <option value="">-- Select an Enemy --</option>
                        </select>
                    </div>
                    <div>
                        <label for="enemyHealthDisplay" class="block mb-2 text-sm font-medium">Enemy Health (Single)</label>
                        <div id="enemyHealthDisplay" class="input-field w-full text-orange-400 font-semibold">Select an enemy to see health</div>
                        <input type="hidden" id="enemyHealth">
                    </div>
                    <div>
                        <label for="yourDPSMin">Your Damage Per Second (Min)</label>
                        <div class="grid-denom">
                            <input type="text" id="yourDPSMin" class="input-field w-full" placeholder="e.g., 500">
                            <div class="relative">
                                <input type="text" id="dpsDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                <input type="hidden" id="dpsDenominationValue" value="1">
                                <div id="dpsDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="yourDPSMax">Your Damage Per Second (Max)</label>
                        <div class="grid-denom">
                            <input type="text" id="yourDPSMax" class="input-field w-full" placeholder="e.g., 750">
                            <div class="relative">
                                <input type="text" id="dpsMaxDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                <input type="hidden" id="dpsMaxDenominationValue" value="1">
                                <div id="dpsMaxDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="enemyQuantity">Enemy Quantity</label>
                        <input type="text" id="enemyQuantity" class="input-field w-full" placeholder="e.g., 25">
                    </div>
                    <div class="toggle-container">
                        <button class="toggle-btn active" data-farming-mode="single">Single Mob (1)</button>
                        <button class="toggle-btn" data-farming-mode="four">4-Spot Farm (4)</button>
                    </div>
                    <input type="checkbox" id="fourSpotFarming" class="hidden">
                    <div class="result-box p-4 rounded-lg text-center" onclick="copyResult('ttkResult')" title="Click to copy result">
                        <p class="text-gray-400">Time to Kill (Single):</p>
                        <p id="ttkResult" class="text-2xl font-bold text-orange-400">0s</p>
                        <p id="questTTKResult" class="text-lg font-bold text-orange-400 mt-2"></p>
                        <p id="questReturnTime" class="text-sm text-gray-400 mt-1"></p>
                    </div>
                </div>
            </div>
            <div id="panel-raid" class="hidden">
                <div class="max-w-xl space-y-6">
                    <div>
                        <label for="activitySelect" class="block mb-2 text-sm font-medium">Select Raid / Dungeon</label>
                        <select id="activitySelect" class="select-field w-full rounded-lg">
                            <option value="">-- Select an Activity --</option>
                        </select>
                    </div>
                    <div>
                        <label for="yourDPSActivity">Your Damage Per Second (DPS)</label>
                        <div class="grid-denom">
                            <input type="text" id="yourDPSActivity" class="input-field w-full" placeholder="e.g., 500">
                            <div class="relative">
                                <input type="text" id="dpsActivityDenominationInput" class="input-field w-full" placeholder="e.g., Sx" autocomplete="off">
                                <input type="hidden" id="dpsActivityDenominationValue" value="1">
                                <div id="dpsActivityDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <label for="activityTimeLimit">Time Limit per Stage (seconds)</label>
                        <input type="text" id="activityTimeLimit" class="input-field w-full">
                    </div>
                    <div class="subsection-title">Key Runs Time Estimate</div>
                    <div>
                        <label for="keyRunQuantity">Keys / Runs (Amount)</label>
                        <input type="text" id="keyRunQuantity" class="input-field w-full" placeholder="e.g., 5">
                    </div>
                    <div class="result-box p-4 rounded-lg text-center" onclick="copyResult('keyRunTimeResult')" title="Click to copy result">
                        <p class="text-gray-400">Time for all runs:</p>
                        <p id="keyRunTimeResult" class="text-2xl font-bold text-orange-400">0s</p>
                        <p id="keyRunReturnTime" class="text-sm text-gray-400 mt-1"></p>
                    </div>
                    <div class="result-box p-4 rounded-lg text-center">
                        <p id="activityResultLabel" class="text-gray-400">Estimated Max Stage:</p>
                        <p id="activityResult" class="text-2xl font-bold text-orange-400">0 / 0</p>
                    </div>
                </div>
            </div>
            <div id="panel-alerts" class="hidden">
                <div class="max-w-xl space-y-6">
                    <h3 class="subsection-title">Notification Status</h3>
                    <div class="result-box p-4 rounded-lg text-center bg-[#222]">
                        <p id="alertPermissionStatus" class="text-lg font-semibold text-red-400">Permissions: Unknown</p>
                        <button id="requestPermissionBtn" class="mt-3 toggle-btn active">Request Notifications</button>
                    </div>
                    <div class="result-box p-4 rounded-lg text-center bg-[#222]">
                        <p class="text-gray-400">Next Dungeon Cycle:</p>
                        <p id="nextDungeonTimer" class="text-2xl font-bold text-orange-400">Calculating...</p>
                        <p id="nextDungeonName" class="text-sm text-gray-400 mt-1">Next: N/A</p>
                    </div>
                    <h3 class="subsection-title">Select Alerts to Receive</h3>
                    <p class="text-sm text-gray-400 -mt-4 mb-4">You will receive an alert at the time the dungeon/raid starts.</p>
                    <div class="grid grid-cols-2 gap-4">
                        <label for="alert-easy-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-easy-dungeon" name="Easy Dungeon">
                            <span>Easy Dungeon (0m)</span>
                        </label>
                        <label for="alert-leaf-raid" class="alert-item">
                            <input type="checkbox" id="alert-leaf-raid" name="Leaf Raid">
                            <span>Leaf Raid (15m)</span>
                        </label>
                        <label for="alert-medium-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-medium-dungeon" name="Medium Dungeon">
                            <span>Medium Dungeon (10m)</span>
                        </label>
                        <label for="alert-hard-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-hard-dungeon" name="Hard Dungeon">
                            <span>Hard Dungeon (20m)</span>
                        </label>
                        <label for="alert-insane-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-insane-dungeon" name="Insane Dungeon">
                            <span>Insane Dungeon (30m)</span>
                        </label>
                        <label for="alert-crazy-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-crazy-dungeon" name="Crazy Dungeon">
                            <span>Crazy Dungeon (40m)</span>
                        </label>
                        <label for="alert-nightmare-dungeon" class="alert-item">
                            <input type="checkbox" id="alert-nightmare-dungeon" name="Nightmare Dungeon">
                            <span>Nightmare Dungeon (50m)</span>
                        </label>
                    </div>
                </div>
            </div>
            <div id="panel-star" class="hidden">
                <div class="max-w-xl space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                        <div>
                            <label for="starLevelSelect">Star Level</label>
                            <select id="starLevelSelect" class="select-field w-full rounded-lg"></select>
                        </div>
                        <div>
                            <label for="starCostDisplay">Cost per Star</label>
                            <div id="starCostDisplay" class="input-field w-full text-orange-400 font-semibold">Select a level</div>
                        </div>
                        <div>
                            <label for="starSpeedSelect">Star Speed (Dungeon Upgrade)</label>
                            <select id="starSpeedSelect" class="select-field w-full rounded-lg"></select>
                        </div>
                        <div>
                            <label for="starAmount">Star Amount (From Stats)</label>
                            <input type="text" id="starAmount" class="input-field w-full" placeholder="e.g., 19">
                        </div>
                        <div>
                            <label for="starBaseLuck">Star Luck (From Stats)</label>
                            <input type="text" id="starBaseLuck" class="input-field w-full" placeholder="e.g., 333">
                        </div>
                        <div>
                            <label for="starTimeHours">Time (Hours)</label>
                            <input type="text" id="starTimeHours" class="input-field w-full" value="1" placeholder="e.g., 1">
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-center">
                        <div class="result-box p-4 rounded-lg">
                            <p class="text-gray-400">Total Stars Opened</p>
                            <p id="starTotalPulls" class="text-2xl font-bold text-orange-400">0</p>
                        </div>
                        <div class="result-box p-4 rounded-lg">
                            <p class="text-gray-400">Total Coin Cost</p>
                            <p id="starTotalCost" class="text-2xl font-bold text-orange-400">0</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="subsection-title">Estimated Stars by Rarity</h3>
                        <p class="text-sm text-gray-400 -mt-3 mb-3">Note: Rarity percentages are calculated based on your Star Luck.</p>
                        <div class="bg-[#1a1a1a] border border-[#404040] rounded-lg p-4">
                            <table class="w-full">
                                <tbody id="starRarityTableBody">
                                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id="panel-checklist" class="hidden">
                <div class="max-w-xl space-y-6"> 
                    <div class="progress-indicator">
                        <div class="text-sm text-gray-400 mb-2">Overall Progress</div>
                        <div id="overall-progress-text" class="text-lg font-bold text-orange-400">0 / 0 (0%)</div>
                        <div class="progress-bar">
                            <div id="overall-progress-fill" class="progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <input type="text" id="checklist-search" class="search-filter" placeholder="Search checklist items...">
                        <select id="category-filter" class="search-filter">
                            <option value="">All Categories</option>
                            <option value="gachas">Gachas</option>
                            <option value="progressions">Progressions</option>
                            <option value="sssrank">SSS Rank</option>
                            <option value="auras">Auras</option>
                            <option value="accessories">Accessories</option>
                            <option value="quests">Quests</option> 
                        </select>
                    </div>
                    <div class="flex items-center mt-4">
                        <label for="hide-completed-checkbox" class="inline-flex items-center space-x-2 cursor-pointer text-sm text-gray-400 font-medium">
                            <input type="checkbox" id="hide-completed-checkbox" class="form-checkbox h-4 w-4 text-orange-400 bg-gray-700 border-gray-600 rounded">
                            <span>Hide Completed Items</span>
                        </label>
                    </div>
                    <div class="grid grid-cols-3 md:grid-cols-2 gap-4 text-center">
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-orange-400 font-bold" id="gachas-count">0/0</div>
                            <div class="text-xs text-gray-400">Gachas</div>
                        </div>
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-green-400 font-bold" id="progressions-count">0/0</div>
                            <div class="text-xs text-gray-400">Progressions</div>
                        </div>
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-red-400 font-bold" id="sssrank-count">0/0</div>
                            <div class="text-xs text-gray-400">SSS Rank</div>
                        </div>
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-purple-400 font-bold" id="auras-count">0/0</div>
                            <div class="text-xs text-gray-400">Auras</div>
                        </div>
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-cyan-400 font-bold" id="accessories-count">0/0</div>
                            <div class="text-xs text-gray-400">Accessories</div>
                        </div>
                        <div class="bg-[#1a1a1a] p-3 rounded-lg border border-[#404040]">
                            <div class="text-yellow-300 font-bold" id="quests-count">0/0</div>
                            <div class="text-xs text-gray-400">Quests</div>
                        </div>
                    </div>
                    <div id="checklist-worlds-container" class="space-y-8">
                        </div>
                    <div class="toggle-container">
                        <button id="check-all-btn" class="toggle-btn">Check All (Global)</button>
                        <button id="uncheck-all-btn" class="toggle-btn">Uncheck All (Global)</button>
                    </div>
                </div>
            </div>
            </div>
        </main>
    </div>
    <audio id="alertSound" src="dungeonnotification.mp3" preload="auto" style="display:none;"></audio>
    <script src="data-core.js?v=V_CACHE_BUST" defer></script>
    <script src="data-checklist-worlds.js?v=V_CACHE_BUST" defer></script>
    <script src="data-boosts.js?v=V_CACHE_BUST" defer></script>
    <script src="data-stars.js?v=V_CACHE_BUST" defer></script> 
    <script src="script.js?v=V_CACHE_BUST" defer></script>
    <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
    <script>
      kofiWidgetOverlay.draw('aidencharming', {
        'type': 'floating-chat',
        'floating-chat.donateButton.text': 'Support Me',
        'floating-chat.donateButton.background-color': '#5cb85c',
        'floating-chat.donateButton.text-color': '#fff'
      });
    </script>
</body>
</html>
