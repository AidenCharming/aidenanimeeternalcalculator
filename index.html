<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Eternal Calculator</title>
    <link rel="icon" href="icon.webp" type="image/webp">
    <link rel="apple-touch-icon" href="icon.webp">
    <script src="https://cdn.jsdelivr.net/npm/localforage@1.10.0/dist/localforage.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
          theme: {
            extend: {
              fontFamily: {
                sans: ['Poppins', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
              },
            },
          },
        }
    </script>
    <script>
    (function(){
      function isLowPower(){
        try{
          if (matchMedia && matchMedia('(prefers-reduced-motion: reduce)').matches) return true;
          var nav = navigator || {};
          if (nav.connection) {
            if (nav.connection.saveData) return true;
            var et = (nav.connection.effectiveType || '').toLowerCase();
            if (et.indexOf('2g') !== -1 || et.indexOf('3g') !== -1) return true;
          }
          if (nav.deviceMemory && nav.deviceMemory <= 2) return true;
          if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) return true;
        }catch(e){}
        return false;
      }
      var pref = localStorage.getItem('ae_low_power');
      if (pref === null) {
        pref = isLowPower() ? '1' : '0';
        localStorage.setItem('ae_low-power', pref);
      }
      if (pref === '1') document.documentElement.classList.add('ae-low-power');
      else document.documentElement.classList.add('ae-high-power');
    })();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter&family=Metal+Mania&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?v=13.2"> 
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2070779794600099" crossorigin="anonymous"></script>
</head>
<body>
    <div class="w-full max-w-2xl">
        <header class="topbar">
            <div class="topbar-content">
                <div id="collapsible-header-info" class="flex items-center gap-6 header-info-wrapper">
                    <h1 class="topbar-title leading-none">Anime Eternal<br>Calculator</h1>
                    <div class="flex flex-col justify-center">
                        <div class="topbar-credits">
                            Coded By: AidenCharming | Data: AE Spreadsheet, KodakUSA, Ra, Sscrylix
                        </div>
                        <div class="text-blue-500 font-bold text-[15px] mt-0.5">
                            DM AidenCharming on Discord for bugs/features.
                        </div>
                    </div>
                </div>

                <div class="topbar-right">
                    <span class="version-text">Version 18.3 - Salty School</span>
                    <div class="toggle-container">
                        <button id="format-toggle-scientific" class="toggle-btn" data-format="scientific">Scientific</button>
                        <button id="format-toggle-engineering" class="toggle-btn" data-format="engineering">Engineering</button>
                        <button id="format-toggle-letters" class="toggle-btn active" data-format="letters">Letters</button>
                    </div>
                    <div class="relative">
                        <select id="theme-select" class="select-field rounded-lg" style="padding: 4px 32px 4px 12px; font-size: 12px; font-weight: 500; height: 30px;">
                        </select>
                    </div>
                </div>
            </div>

            <div class="mobile-nav-wrapper" id="mobile-tab-controls">
                <div class="relative">
                    <select id="mobile-nav-select" class="select-field w-full rounded-lg" style="padding: 12px; font-size: 16px; font-weight: 600;">
                        <option value="rankup">Rank Up</option>
                        <option value="eta">Target Energy ETA</option>
                        <option value="time-to-energy">Time to Energy</option>
                        <option value="ttk">Time to Kill</option>
                        <option value="damage">Damage Calc</option>
                        <option value="coin">Coin Calc</option>
                        <option value="lootcalc">Loot Calc</option>
                        <option value="checklist">Checklist</option>
                    </select>
                </div>
            </div>
        </header>

        <main class="calculator-card">
            <div class="flex border-b-2 mb-6" id="tab-controls">
                <button id="tab-rankup" class="tab-btn active" data-tab="rankup">Rank Up</button>
                <button id="tab-eta" class="tab-btn" data-tab="eta">Target Energy ETA</button>
                <button id="tab-time-to-energy" class="tab-btn" data-tab="time-to-energy">Time to Energy</button>
                <button id="tab-damage" class="tab-btn" data-tab="damage">Damage Calc</button>
                <button id="tab-ttk" class="tab-btn" data-tab="ttk">Time to Kill</button>
                <button id="tab-coin" class="tab-btn" data-tab="coin">Coin Calc</button>
                <button id="tab-lootcalc" class="tab-btn" data-tab="lootcalc">Loot Calc</button>
                <button id="tab-checklist" class="tab-btn" data-tab="checklist">Checklist</button>
            </div>

            <div class="content-wrapper">
                
                <div id="panel-rankup">
                    <div class="max-w-4xl ml-0 space-y-6"> 
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Rank Up Calculator</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label for="rankInput">Select Target Rank</label>
                                        <div class="relative">
                                            <input type="text" id="rankInput" class="input-field w-full rounded-lg" placeholder="e.g., 109" autocomplete="off">
                                            <input type="hidden" id="rankSelect" value="">
                                            <div id="rankList" class="search-list absolute z-10 w-full rounded-lg mt-1 max-h-48 overflow-y-auto hidden"></div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="currentEnergy">Your Current Energy</label>
                                        <div class="grid-denom">
                                            <input type="text" id="currentEnergy" class="input-field w-full" placeholder="e.g., 5000">
                                            <div class="relative">
                                                <input type="text" id="currentEnergyDenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                                <input type="hidden" id="currentEnergyDenominationValue" value="1">
                                                <div id="currentEnergyDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="energyPerClick">Energy per Click</label>
                                        <div class="grid-denom">
                                            <input type="text" id="energyPerClick" class="input-field w-full" placeholder="e.g., 150">
                                            <div class="relative">
                                                <input type="text" id="energyPerClickDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                                <input type="hidden" id="energyPerClickDenominationValue" value="1">
                                                <div id="energyPerClickDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <label for="energyCriticalChance">Energy Crit Chance</label>
                                        <input type="text" id="energyCriticalChance" class="input-field w-full" placeholder="e.g., 7.5">
                                    </div>
                                    <div>
                                        <label for="criticalEnergy">Critical Energy</label>
                                        <input type="text" id="criticalEnergy" class="input-field w-full" placeholder="e.g., 130">
                                    </div>
                                    <div>
                                        <label>Clicker Speed</label>
                                        <div class="toggle-container w-full" data-sync-id="clicker">
                                            <button class="toggle-btn w-1/2 active" data-clickerspeed="slow">Slow</button>
                                            <button class="toggle-btn w-1/2" data-clickerspeed="fast">Fast</button>
                                        </div>
                                        <input type="checkbox" id="clickerSpeed" class="hidden">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 p-4 result-box text-center">
                                <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Energy Needed</p>
                                <div id="energyForRankFormatted" class="text-xl font-bold text-yellow-500">Select a rank</div>
                            </div>

                            <div class="mt-4 p-4 result-box text-center" onclick="copyResult('rankUpResult')">
                                <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Time to Rank Up</p>
                                <p id="rankUpResult" class="text-3xl font-bold text-blue-400">0s</p>
                                <p id="rankUpReturnTime" class="text-sm text-gray-500 mt-1"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="panel-damage" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 to-orange-500"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Player Stats</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label for="dmgCurrentEnergy">Current Energy</label>
                                        <div class="grid-denom">
                                            <input type="text" id="dmgCurrentEnergy" class="input-field w-full" placeholder="e.g., 44.9">
                                            <div class="relative">
                                                <input type="text" id="dmgCurrentEnergyDenomInput" class="input-field w-full" placeholder="e.g., sxQDR" autocomplete="off">
                                                <input type="hidden" id="dmgCurrentEnergyDenomValue" value="1">
                                                <div id="dmgCurrentEnergyDenomList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="dmgStatDamage">Damage (From Stats)</label>
                                        <div class="grid-denom">
                                            <input type="text" id="dmgStatDamage" class="input-field w-full" placeholder="e.g., 4.16">
                                            <div class="relative">
                                                <input type="text" id="dmgStatDamageDenomInput" class="input-field w-full" placeholder="e.g., SpD" autocomplete="off">
                                                <input type="hidden" id="dmgStatDamageDenomValue" value="1">
                                                <div id="dmgStatDamageDenomList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="dmgCritChance">Crit Chance (%)</label>
                            <input type="text" id="dmgCritChance" class="input-field w-full" placeholder="e.g., 6">
                        </div>
                        <div>
                            <label for="dmgCritDamage">Crit Dmg (%)</label>
                            <input type="text" id="dmgCritDamage" class="input-field w-full" placeholder="e.g., 170">
                        </div>
                    </div>
                    <div>
                        <label>Clicker Speed</label>
                        <div class="toggle-container w-full" data-sync-id="clicker">
                            <button class="toggle-btn w-1/2 active" data-clickerspeed-dmg="slow">Slow</button>
                            <button class="toggle-btn w-1/2" data-clickerspeed-dmg="fast">Fast</button>
                        </div>
                        <input type="checkbox" id="clickerSpeedDmg" class="hidden">
                    </div>
                </div>
            </div>

            <h3 class="text-white font-bold text-lg mt-8 mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Companions (Enter Multiplier %)</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="result-box p-4 rounded border">
                    <label class="text-xs text-purple-400 font-bold mb-2 block">Shadows (1.0s Interval)</label>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label class="text-[10px] text-gray-500">Shadow 1 (%)</label><input type="text" id="compShadow1" class="input-field w-full text-center" placeholder="e.g. 166%"></div>
                        <div><label class="text-[10px] text-gray-500">Shadow 2 (%)</label><input type="text" id="compShadow2" class="input-field w-full text-center" placeholder="Multiplier %"></div>
                    </div>
                </div>

                <div class="result-box p-4 rounded border">
                    <label class="text-xs text-red-400 font-bold mb-2 block">Titans (1.0s Interval)</label>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label class="text-[10px] text-gray-500">Titan 1 (%)</label><input type="text" id="compTitan1" class="input-field w-full text-center" placeholder="e.g. 174%"></div>
                        <div><label class="text-[10px] text-gray-500">Titan 2 (%)</label><input type="text" id="compTitan2" class="input-field w-full text-center" placeholder="Multiplier %"></div>
                    </div>
                </div>

                <div class="result-box p-4 rounded border">
                    <label class="text-xs text-yellow-400 font-bold mb-2 block">Stands (0.2s Interval)</label>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label class="text-[10px] text-gray-500">Stand 1 (%)</label><input type="text" id="compStand1" class="input-field w-full text-center" placeholder="e.g. 68.7%"></div>
                        <div><label class="text-[10px] text-gray-500">Stand 2 (%)</label><input type="text" id="compStand2" class="input-field w-full text-center" placeholder="Multiplier %"></div>
                    </div>
                </div>

                <div class="result-box p-4 rounded border">
                    <label class="text-xs text-green-400 font-bold mb-2 block">Zombies (2.0s Interval)</label>
                    <div class="grid grid-cols-2 gap-4">
                        <div><label class="text-[10px] text-gray-500">Zombie 1 (%)</label><input type="text" id="compZombie1" class="input-field w-full text-center" placeholder="e.g. 1220%"></div>
                        <div><label class="text-[10px] text-gray-500">Zombie 2 (%)</label><input type="text" id="compZombie2" class="input-field w-full text-center" placeholder="Multiplier %"></div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                <div class="text-center p-4 result-box rounded-lg border" onclick="copyResult('dpsResult')">
                    <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Total DPS</p>
                    <p id="dpsResult" class="text-2xl font-bold text-yellow-500">0</p>
                </div>
                <div class="text-center p-4 result-box rounded-lg border" onclick="copyResult('dpmResult')">
                    <p class="text-blue-400 text-sm uppercase tracking-wider mb-1">Total DPM</p>
                    <p id="dpmResult" class="text-3xl font-bold text-blue-400">0</p>
                </div>
            </div>
        </div>
    </div>
</div>

                <div id="panel-eta" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                         <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Target Energy ETA</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                     <div>
                                        <label for="currentEnergyETA">Current Energy</label>
                                        <div class="grid-denom">
                                            <input type="text" id="currentEnergyETA" class="input-field w-full" placeholder="e.g., 5000">
                                            <div class="relative">
                                                <input type="text" id="currentEnergyETADenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                                <input type="hidden" id="currentEnergyETADenominationValue" value="1">
                                                <div id="currentEnergyETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label for="targetEnergyETA">Target Energy</label>
                                        <div class="grid-denom">
                                            <input type="text" id="targetEnergyETA" class="input-field w-full" placeholder="e.g., 10000">
                                            <div class="relative">
                                                <input type="text" id="targetEnergyETADenominationInput" class="input-field w-full" placeholder="e.g., M" autocomplete="off">
                                                <input type="hidden" id="targetEnergyETADenominationValue" value="1">
                                                <div id="targetEnergyETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-4">
                                     <div>
                                        <label for="energyPerClickETA">Energy per Click</label>
                                        <div class="grid-denom">
                                            <input type="text" id="energyPerClickETA" class="input-field w-full" placeholder="e.g., 150">
                                            <div class="relative">
                                                <input type="text" id="energyPerClickETADenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                                <input type="hidden" id="energyPerClickETADenominationValue" value="1">
                                                <div id="energyPerClickETADenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label>Clicker Speed</label>
                                        <div class="toggle-container w-full" data-sync-id="clicker">
                                            <button class="toggle-btn w-1/2 active" data-clickerspeed-eta="slow">Slow</button>
                                            <button class="toggle-btn w-1/2" data-clickerspeed-eta="fast">Fast</button>
                                        </div>
                                        <input type="checkbox" id="clickerSpeedETA" class="hidden">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-4 grid grid-cols-2 gap-4">
                                 <div>
                                    <label for="energyCriticalChanceETA" class="text-xs text-gray-500">Crit Chance</label>
                                    <input type="text" id="energyCriticalChanceETA" class="input-field w-full" placeholder="7.5">
                                </div>
                                <div>
                                    <label for="criticalEnergyETA" class="text-xs text-gray-500">Crit Energy</label>
                                    <input type="text" id="criticalEnergyETA" class="input-field w-full" placeholder="130">
                                </div>
                            </div>

                            <div class="mt-6 p-4 result-box text-center" onclick="copyResult('etaResult')">
                                <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Time to Target</p>
                                <p id="etaResult" class="text-3xl font-bold text-blue-400">0s</p>
                                <p id="etaReturnTime" class="text-sm text-gray-500 mt-1"></p>
                            </div>
                         </div>
                    </div>
                </div>

                <div id="panel-time-to-energy" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Time to Energy</h3>
                            
                             <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div>
                                        <label for="currentEnergyTTE">Current Energy</label>
                                        <div class="grid-denom">
                                            <input type="text" id="currentEnergyTTE" class="input-field w-full" placeholder="e.g., 5000">
                                            <div class="relative">
                                                <input type="text" id="currentEnergyTTEDenominationInput" class="input-field w-full" placeholder="e.g., K" autocomplete="off">
                                                <input type="hidden" id="currentEnergyTTEDenominationValue" value="1">
                                                <div id="currentEnergyTTEDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                     <div>
                                        <label for="energyPerClickTTE">Base Energy/Click</label>
                                        <div class="grid-denom">
                                            <input type="text" id="energyPerClickTTE" class="input-field w-full" placeholder="e.g., 150">
                                            <div class="relative">
                                                <input type="text" id="energyPerClickTTEDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off">
                                                <input type="hidden" id="energyPerClickTTEDenominationValue" value="1">
                                                <div id="energyPerClickTTEDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <label>Return Time Duration</label>
                                        <div class="grid-time">
                                            <div class="relative">
                                                <select id="timeToReturnSelect" class="select-field w-full rounded-lg"></select>
                                            </div>
                                            <div class="relative">
                                                <select id="timeToReturnSelectMinutes" class="select-field w-full rounded-lg"></select>
                                            </div>
                                        </div>
                                    </div>
                                     <div>
                                        <label>Clicker Speed</label>
                                        <div class="toggle-container w-full" data-sync-id="clicker">
                                            <button class="toggle-btn w-1/2 active" data-clickerspeed-tte="slow">Slow</button>
                                            <button class="toggle-btn w-1/2" data-clickerspeed-tte="fast">Fast</button>
                                        </div>
                                        <input type="checkbox" id="clickerSpeedTTE" class="hidden">
                                    </div>
                                </div>
                             </div>
                             
                            <div class="mt-6">
                                <h4 class="text-blue-400 font-bold text-sm uppercase tracking-wide mb-4 border-b pb-2" style="border-color: var(--border-light);">Active Boosts</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="result-box p-3 rounded border">
                                        <label class="text-xs text-gray-400 mb-1">Spooky Potion (x2.5)</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <select id="boost-spooky-energy-potion-hours" class="select-field text-xs h-8 py-1"></select>
                                            <select id="boost-spooky-energy-potion-minutes" class="select-field text-xs h-8 py-1"></select>
                                        </div>
                                    </div>
                                    <div class="result-box p-3 rounded border">
                                        <label class="text-xs text-gray-400 mb-1">Energy Potion (x2.0)</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <select id="boost-energy-potion-hours" class="select-field text-xs h-8 py-1"></select>
                                            <select id="boost-energy-potion-minutes" class="select-field text-xs h-8 py-1"></select>
                                        </div>
                                    </div>
                                    <div class="result-box p-3 rounded border">
                                        <label class="text-xs text-gray-400 mb-1">Small Potion (x1.5)</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <select id="boost-small-potion-hours" class="select-field text-xs h-8 py-1"></select>
                                            <select id="boost-small-potion-minutes" class="select-field text-xs h-8 py-1"></select>
                                        </div>
                                    </div>
                                    <div class="result-box p-3 rounded border">
                                        <label class="text-xs text-gray-400 mb-1">Energy Macaron (x1.25)</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <select id="boost-energy-macaron-hours" class="select-field text-xs h-8 py-1"></select>
                                            <select id="boost-energy-macaron-minutes" class="select-field text-xs h-8 py-1"></select>
                                        </div>
                                    </div>
                                     <div class="result-box p-3 rounded border">
                                        <label class="text-xs text-gray-400 mb-1">Chocolate Bar (x1.10)</label>
                                        <div class="grid grid-cols-2 gap-2">
                                            <select id="boost-chocolate-bar-hours" class="select-field text-xs h-8 py-1"></select>
                                            <select id="boost-chocolate-bar-minutes" class="select-field text-xs h-8 py-1"></select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6 p-4 result-box text-center" onclick="copyResult('timeToEnergyResult')">
                                <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Total Energy</p>
                                <p id="timeToEnergyResult" class="text-3xl font-bold text-blue-400">0</p>
                                <p id="timeToEnergyReturnTime" class="text-sm text-gray-500 mt-1"></p>
                            </div>
                            
                             <div class="mt-4 grid grid-cols-2 gap-4 hidden">
                                 <input type="text" id="energyCriticalChanceTTE" class="hidden">
                                 <input type="text" id="criticalEnergyTTE" class="hidden">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="panel-coin" class="hidden">
                <div class="max-w-4xl ml-0 space-y-6">
                    <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                       <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 to-yellow-600"></div>
                        <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Coin Calculator</h3>
            
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="space-y-4">
                                <div>
                                    <label for="coinBase" class="text-sm font-semibold text-gray-400">Base Coin Drop (Over Mobs Head)</label>
                                    <div class="grid-denom">
                                        <input type="text" id="coinBase" class="input-field w-full" placeholder="e.g., 90">
                                        <div class="relative">
                                            <input type="text" id="coinBaseDenomInput" class="input-field w-full" placeholder="e.g., Ud" autocomplete="off">
                                            <input type="hidden" id="coinBaseDenomValue" value="1">
                                            <div id="coinBaseDenomList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                 <label for="coinMulti" class="text-sm font-semibold text-gray-400">Coin Multiplier (In Stats)</label>
                                    <div class="grid-denom">
                                        <input type="text" id="coinMulti" class="input-field w-full" placeholder="e.g., 93.4">
                                        <div class="relative">
                                            <input type="text" id="coinMultiDenomInput" class="input-field w-full" placeholder="e.g., M" autocomplete="off">
                                            <input type="hidden" id="coinMultiDenomValue" value="1">
                                            <div id="coinMultiDenomList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div>
                                    <label for="coinMobKillTime" class="text-sm font-semibold text-gray-400">Time Per Kill</label>
                                    <div class="relative">
                                        <select id="coinMobKillTime" class="select-field w-full rounded-lg"></select>
                                    </div>
                                </div>

                                <div>
                                    <label class="text-sm font-semibold text-gray-400 mb-2 block">Farming Mode</label>
                                    <div class="toggle-container w-full" id="coin-farming-mode-container">
                                        <button class="toggle-btn w-1/2 active" data-coin-farming-mode="single">Single (1x)</button>
                                        <button class="toggle-btn w-1/2" data-coin-farming-mode="four">4-Spot (4x)</button>
                                    </div>
                                    <input type="hidden" id="coinFarmingMode" value="single">
                                </div>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                            <div class="text-center p-4 result-box rounded-lg border">
                                <p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Coins Per Kill</p>
                                <p id="coinPerKillResult" class="text-2xl font-bold text-yellow-500">0</p>
                            </div>
                            <div class="text-center p-4 result-box rounded-lg border" onclick="copyResult('coinPerHourResult')">
                                <p class="text-blue-400 text-sm uppercase tracking-wider mb-1">Coins Per Hour</p>
                                <p id="coinPerHourResult" class="text-3xl font-bold text-blue-400">0</p>
                            </div>
                        </div>
                    </div>
                </div>
                </div>

                <div id="panel-lootcalc" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Farming Configuration</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-4">
                                    <div><label for="lootMobKillTime" class="text-sm font-semibold text-gray-400">Time Per Kill</label><div class="relative"><select id="lootMobKillTime" class="select-field w-full rounded-lg"></select></div></div>
                                    <div><label class="text-sm font-semibold text-gray-400 mb-2 block">Farming Mode</label><div class="toggle-container w-full" id="loot-farming-mode-container"><button class="toggle-btn w-1/2 active" data-loot-farming-mode="single">Single (1x)</button><button class="toggle-btn w-1/2" data-loot-farming-mode="four">4-Spot (4x)</button></div><input type="hidden" id="lootFarmingMode" value="single"></div>
                                </div>
                                <div class="space-y-4">
                                    <div><label for="lootTokenMultiplier" class="text-sm font-semibold text-gray-400">Token Multiplier (Stat)</label><input type="text" id="lootTokenMultiplier" class="input-field w-full" placeholder="e.g., 3.16"></div>
                                    <div><label for="lootBaseTokenDropRate" class="text-sm font-semibold text-gray-400">Base Token Chance (%)</label><input type="text" id="lootBaseTokenDropRate" class="input-field w-full" placeholder="e.g., 10"></div>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;"><div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div><h3 class="text-yellow-500 font-bold text-sm uppercase tracking-wide mb-4 flex items-center gap-2">Token Drop Range</h3><div class="flex items-center gap-4"><div class="flex-1"><label for="lootTokenDropMin" class="text-xs text-gray-500 mb-1">Minimum</label><input type="text" id="lootTokenDropMin" class="input-field w-full text-center" placeholder="1"></div><span class="text-gray-500 font-bold mt-4">-</span><div class="flex-1"><label for="lootTokenDropMax" class="text-xs text-gray-500 mb-1">Maximum</label><input type="text" id="lootTokenDropMax" class="input-field w-full text-center" placeholder="5"></div></div></div>
                            <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;"><div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div><h3 class="text-blue-400 font-bold text-sm uppercase tracking-wide mb-4 flex items-center gap-2">Special Item Config</h3><div class="grid grid-cols-2 gap-4"><div><label for="lootSpecialDropRate" class="text-xs text-gray-500 mb-1">Drop Chance (%)</label><input type="text" id="lootSpecialDropRate" class="input-field w-full" placeholder="e.g., 1"></div><div><label for="lootSpecialItemName" class="text-xs text-gray-500 mb-1">Item Name</label><input type="text" id="lootSpecialItemName" class="input-field w-full" placeholder="Name..."><input type="hidden" id="lootSpecialDropQuantity" value="1"></div></div></div>
                        </div>
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-xl mb-6 flex items-center gap-2">Loot Projections</h3>
                            <div class="mb-6 result-box p-4 rounded-lg flex flex-col md:flex-row items-center justify-between gap-4 border"><span class="text-gray-300 font-medium">Calculate loot for duration:</span><div class="flex gap-2 w-full md:w-auto"><div class="relative flex-1 md:w-32"><select id="lootTimeTargetHours" class="select-field w-full rounded-lg"></select></div><div class="relative flex-1 md:w-32"><select id="lootTimeTargetMinutes" class="select-field w-full rounded-lg"></select></div></div></div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"><div class="text-center p-4 result-box rounded-lg border"><p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Total Tokens</p><p id="lootTokensResult" class="text-3xl font-bold text-yellow-500">0</p></div><div class="text-center p-4 result-box rounded-lg border"><p class="text-blue-400 text-sm uppercase tracking-wider mb-1"><span id="specialItemLabel">Total Specials</span></p><p id="lootSpecialDropsResult" class="text-3xl font-bold text-blue-400">0</p></div></div>
                            
                            <div class="border-t pt-6" style="border-color: var(--border-light);">
                                <div class="flex flex-col md:flex-row items-center gap-4">
                                    <div class="flex-1 w-full">
                                        <label for="lootTokenTargetCount" class="text-gray-400 text-sm mb-1 block">How long to farm X tokens?</label>
                                        <input type="text" id="lootTokenTargetCount" class="input-field w-full" placeholder="Enter target amount...">
                                    </div>
                                    <div class="w-full md:w-auto text-center md:text-right">
                                        <p class="text-gray-500 text-xs uppercase font-bold mb-1">Estimated Time</p>
                                        <p id="lootTokenTimeToTargetResult" class="text-2xl font-bold text-blue-500">0s</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                
                <div id="panel-ttk" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                         <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;"><div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div><h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Time to Kill</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-4"><div><label for="worldSelect">Select World</label><div class="relative"><select id="worldSelect" class="select-field w-full rounded-lg"></select></div></div><div><label for="enemySelect">Select Enemy</label><div class="relative"><select id="enemySelect" class="select-field w-full rounded-lg"></select></div></div><div class="result-box p-3 rounded border"><label class="text-xs text-gray-400 mb-1 block">Enemy Health</label><div id="enemyHealthDisplay" class="text-lg font-bold text-orange-400">Select an enemy</div><input type="hidden" id="enemyHealth"></div></div><div class="space-y-4"><div><label for="yourDPM">Your Damage Per Minute (DPM)</label><div class="grid-denom"><input type="text" id="yourDPM" class="input-field w-full" placeholder="e.g., 30000"><div class="relative"><input type="text" id="dpmDenominationInput" class="input-field w-full" placeholder="e.g., B" autocomplete="off"><input type="hidden" id="dpmDenominationValue" value="1"><div id="dpmDenominationList" class="search-list absolute z-10 w-full mt-2 max-h-48 overflow-y-auto hidden"></div></div></div></div><div><label for="enemyQuantity">Enemy Quantity</label><input type="text" id="enemyQuantity" class="input-field w-full" placeholder="e.g., 25"></div><div><label>Farming Mode</label><div class="toggle-container w-full"><button class="toggle-btn w-1/2 active" data-farming-mode="single">Single (1x)</button><button class="toggle-btn w-1/2" data-farming-mode="four">4-Spot (4x)</button></div><input type="checkbox" id="fourSpotFarming" class="hidden"></div></div></div><div class="mt-6 p-4 result-box text-center" onclick="copyResult('ttkResult')"><p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Time to Kill (Single)</p><p id="ttkResult" class="text-3xl font-bold text-blue-400">0s</p></div><div class="mt-4 p-4 result-box text-center"><p class="text-gray-400 text-sm uppercase tracking-wider mb-1">Total Time (Quantity)</p><p id="questTTKResult" class="text-xl font-bold text-blue-400"></p><p id="questReturnTime" class="text-sm text-gray-500 mt-1"></p></div></div>
                    </div>
                </div>

                <div id="panel-checklist" class="hidden">
                    <div class="max-w-4xl ml-0 space-y-6">
                        <div class="result-box p-6 rounded-xl border-2 border-blue-600 relative overflow-hidden" style="padding: 24px !important;">
                            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-600 to-cyan-400"></div>
                            <h3 class="text-white font-bold text-lg mb-4 border-b pb-2 flex items-center gap-2" style="border-color: var(--border-light);">Progression Checklist</h3>
                            <div class="result-box p-4 mb-6 text-center"><div class="text-sm text-gray-400 mb-2">Overall Progress</div><div id="overall-progress-text" class="text-2xl font-bold text-blue-400">0 / 0 (0%)</div><div class="progress-bar mt-2"><div id="overall-progress-fill" class="progress-fill" style="width: 0%"></div></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><input type="text" id="checklist-search" class="search-filter" placeholder="Search items..."><select id="category-filter" class="search-filter"><option value="">All Categories</option><option value="gachas">Gachas</option><option value="progressions">Progressions</option><option value="sssrank">SSS Rank</option><option value="auras">Auras</option><option value="accessories">Accessories</option><option value="quests">Quests</option></select></div><div class="flex items-center mb-6"><label for="hide-completed-checkbox" class="inline-flex items-center space-x-2 cursor-pointer text-sm text-gray-400 font-medium"><input type="checkbox" id="hide-completed-checkbox" class="form-checkbox h-4 w-4 text-blue-500 bg-[#0f172a] border-[#334155] rounded"><span>Hide Completed Items</span></label></div><div class="grid grid-cols-3 md:grid-cols-2 gap-4 text-center mb-8"><div class="result-box p-3"><div class="text-orange-400 font-bold" id="gachas-count">0/0</div><div class="text-xs text-gray-400">Gachas</div></div><div class="result-box p-3"><div class="text-green-400 font-bold" id="progressions-count">0/0</div><div class="text-xs text-gray-400">Progressions</div></div><div class="result-box p-3"><div class="text-red-400 font-bold" id="sssrank-count">0/0</div><div class="text-xs text-gray-400">SSS Rank</div></div><div class="result-box p-3"><div class="text-purple-400 font-bold" id="auras-count">0/0</div><div class="text-xs text-gray-400">Auras</div></div><div class="result-box p-3"><div class="text-cyan-400 font-bold" id="accessories-count">0/0</div><div class="text-xs text-gray-400">Accessories</div></div><div class="result-box p-3"><div class="text-yellow-300 font-bold" id="quests-count">0/0</div><div class="text-xs text-gray-400">Quests</div></div></div><div id="checklist-worlds-container" class="space-y-8"></div><div class="toggle-container w-full mt-6"><button id="check-all-btn" class="toggle-btn w-1/2">Check All</button><button id="uncheck-all-btn" class="toggle-btn w-1/2">Uncheck All</button></div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>
    <script src="data-core.js?v=13.2" defer></script>
    <script src="data-checklist-worlds.js?v=13.2" defer></script>
    <script src="data-boosts.js?v=13.2" defer></script>
    <script src="script.js?v=13.2" defer></script>
    <script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
</body>
</html>
